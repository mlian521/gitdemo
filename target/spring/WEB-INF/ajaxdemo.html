<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>AJAX DEMO</title>
	</head>
	<body>
		
		
		菜名<input type="text" id="menu" />
		<button id="queryBtn" onclick="query()">查询</button>
		<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			function query(){
				yourajax({
					url:"json/emps.json",
					type:"get",
					success:function(res){
						for(i in res){
							var emp=res[i];
							console.log(emp.ename)
						}
					}
				})
				// var xhr=new XMLHttpRequest();
				// //当xhr发送请求之后，回调处理
				// xhr.onreadystatechange=function(){
				// 	if(xhr.readyState==4&&xhr.status==200){
				// 		console.log(xhr);
				// 		//console.log(JSON.parse(xhr.response));
				// 	}
				// }
				// xhr.open("GET",".json/emps.json");
				// xhr.send();
			}
			
			function yourajax(object){//回调函数
				var xhr=new XMLHttpRequest();
				xhr.onreadystatechange=function(){
					if(xhr.readyState==4&&xhr.status==200){
						var data=JSON.parse(xhr.response);
						object.success(data);
					}
				}
				xhr.open(object.type,object.url);
				xhr.send();
			}
			
			
			function myajax(object,callback){//回调函数
				var xhr=new XMLHttpRequest();
				xhr.onreadystatechange=function(){
					if(xhr.readyState==4&&xhr.status==200){
						var data=JSON.parse(xhr.response);
						callback(data);
					}
				}
				xhr.open(object.type,object.url);
				xhr.send();
			}
			
			
			// $(function(){
			// 	$("#queryBtn").click(function(){
			// 		$.ajax({
			// 			url:"http://apis.juhe.cn/cook/query.php",
			// 			type:"post",
			// 			data:{
			// 				menu:$("#menu").val(),
			// 				key:"d6b7033099369be4bd92c6c9b16c0646"
			// 			},
			// 			dataType:"jsonp",
			// 			success:function(res){
			// 				console.log(res);
			// 			}
			// 		})
			// 	});
			// })
		</script>
	</body>
</html>
